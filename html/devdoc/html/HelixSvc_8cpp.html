<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>Helix: server/HelixSvc.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Helix
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('HelixSvc_8cpp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">HelixSvc.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;process.h&gt;</code><br />
<code>#include &lt;iostream&gt;</code><br />
<code>#include &lt;tchar.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;windows.h&gt;</code><br />
<code>#include &lt;winbase.h&gt;</code><br />
<code>#include &lt;winsvc.h&gt;</code><br />
<code>#include &lt;Shlwapi.h&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8b3478c1785d786800c716949d4a5a1a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a8b3478c1785d786800c716949d4a5a1a">MAX_NUM_OF_PROCESS</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a8b3478c1785d786800c716949d4a5a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a62b49391976b58e0d1d90cd2e2e275f5"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a62b49391976b58e0d1d90cd2e2e275f5">ServiceMainProc</a> ()</td></tr>
<tr class="separator:a62b49391976b58e0d1d90cd2e2e275f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a968413582e8800da8602db67491e1d42"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a968413582e8800da8602db67491e1d42">Install</a> (char *pPath, char *pName)</td></tr>
<tr class="separator:a968413582e8800da8602db67491e1d42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0befd5d0aa35454699a6cf28841653e1"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a0befd5d0aa35454699a6cf28841653e1">UnInstall</a> (char *pName)</td></tr>
<tr class="separator:a0befd5d0aa35454699a6cf28841653e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12daca9a08ae0e071e866a0c8d92e7b9"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a12daca9a08ae0e071e866a0c8d92e7b9">WriteLog</a> (char *pFile, char *pMsg)</td></tr>
<tr class="separator:a12daca9a08ae0e071e866a0c8d92e7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60997e38356ec1281eb863f429f6b8e"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#ab60997e38356ec1281eb863f429f6b8e">KillService</a> (char *pName)</td></tr>
<tr class="separator:ab60997e38356ec1281eb863f429f6b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d40ccd83db61ed8213b577e63eb56b4"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a4d40ccd83db61ed8213b577e63eb56b4">RunService</a> (char *pName)</td></tr>
<tr class="separator:a4d40ccd83db61ed8213b577e63eb56b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187985a2a75796077d024c73129e5f8d"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a187985a2a75796077d024c73129e5f8d">ExecuteSubProcess</a> ()</td></tr>
<tr class="separator:a187985a2a75796077d024c73129e5f8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e4882d9f9667b4cd6d3c98884fa6dd"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a65e4882d9f9667b4cd6d3c98884fa6dd">ProcMonitorThread</a> (VOID *)</td></tr>
<tr class="separator:a65e4882d9f9667b4cd6d3c98884fa6dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd89012efaa4fdc0469d9bea4b43a1a9"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#abd89012efaa4fdc0469d9bea4b43a1a9">StartProcess</a> (int ProcessIndex)</td></tr>
<tr class="separator:abd89012efaa4fdc0469d9bea4b43a1a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2021752def36ccd607dc422ecc225cd9"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a2021752def36ccd607dc422ecc225cd9">EndProcess</a> (int ProcessIndex)</td></tr>
<tr class="separator:a2021752def36ccd607dc422ecc225cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b4e5c30ec01e6a1e00027a21bf419e"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#ad7b4e5c30ec01e6a1e00027a21bf419e">AttachProcessNames</a> ()</td></tr>
<tr class="separator:ad7b4e5c30ec01e6a1e00027a21bf419e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1f7e23222757a2e57b75ec7f8426bf"><td class="memItemLeft" align="right" valign="top">VOID&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a1a1f7e23222757a2e57b75ec7f8426bf">CopyFromStaging</a> (void)</td></tr>
<tr class="separator:a1a1f7e23222757a2e57b75ec7f8426bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6245b96f87d82bbe7e5f121f3de41e68"><td class="memItemLeft" align="right" valign="top">VOID WINAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a6245b96f87d82bbe7e5f121f3de41e68">ServiceMain</a> (DWORD dwArgc, LPTSTR *lpszArgv)</td></tr>
<tr class="separator:a6245b96f87d82bbe7e5f121f3de41e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebadc5a3b3b27297d8b41accb2850441"><td class="memItemLeft" align="right" valign="top">VOID WINAPI&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#aebadc5a3b3b27297d8b41accb2850441">ServiceHandler</a> (DWORD fdwControl)</td></tr>
<tr class="separator:aebadc5a3b3b27297d8b41accb2850441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a353674c5af92be7fb389265cde4e5e03"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a353674c5af92be7fb389265cde4e5e03">_tmain</a> (int argc, _TCHAR *argv[])</td></tr>
<tr class="separator:a353674c5af92be7fb389265cde4e5e03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1afa74dad1e9e5b5b764ac90ae54cecc"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a> = 500</td></tr>
<tr class="separator:a1afa74dad1e9e5b5b764ac90ae54cecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6f72231af87a50ea292e162f67b25e8"><td class="memItemLeft" align="right" valign="top">CHAR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#ac6f72231af87a50ea292e162f67b25e8">pServiceName</a> [<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td></tr>
<tr class="separator:ac6f72231af87a50ea292e162f67b25e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a073161ff44b71aec5c4711d52402229f"><td class="memItemLeft" align="right" valign="top">CHAR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a073161ff44b71aec5c4711d52402229f">pExeFile</a> [<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td></tr>
<tr class="separator:a073161ff44b71aec5c4711d52402229f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeac776b0b97aea65a69aa56c4b226ac"><td class="memItemLeft" align="right" valign="top">CHAR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#aeeac776b0b97aea65a69aa56c4b226ac">lpCmdLineData</a> [<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td></tr>
<tr class="separator:aeeac776b0b97aea65a69aa56c4b226ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d00f6bd48e2503a4e18a5ffd2f56802"><td class="memItemLeft" align="right" valign="top">CHAR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a5d00f6bd48e2503a4e18a5ffd2f56802">pLogFile</a> [<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td></tr>
<tr class="separator:a5d00f6bd48e2503a4e18a5ffd2f56802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23a5928fa753117b120c5f8f242f8a5f"><td class="memItemLeft" align="right" valign="top">CHAR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a23a5928fa753117b120c5f8f242f8a5f">pWorkDir</a> [<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td></tr>
<tr class="separator:a23a5928fa753117b120c5f8f242f8a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1a6cc69903953f56bfcb51f4a90485"><td class="memItemLeft" align="right" valign="top">BOOL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a8d1a6cc69903953f56bfcb51f4a90485">ProcessStarted</a> = TRUE</td></tr>
<tr class="separator:a8d1a6cc69903953f56bfcb51f4a90485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb914596b924968170b6dbf10a2947d7"><td class="memItemLeft" align="right" valign="top">CRITICAL_SECTION&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#afb914596b924968170b6dbf10a2947d7">myCS</a></td></tr>
<tr class="separator:afb914596b924968170b6dbf10a2947d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11f6ffd03bbc85d99d567f51e2c1396e"><td class="memItemLeft" align="right" valign="top">SERVICE_TABLE_ENTRY&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a11f6ffd03bbc85d99d567f51e2c1396e">lpServiceStartTable</a> []</td></tr>
<tr class="separator:a11f6ffd03bbc85d99d567f51e2c1396e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7079c9cd10069ad442c9d489d2d4fb7e"><td class="memItemLeft" align="right" valign="top">LPTSTR&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a7079c9cd10069ad442c9d489d2d4fb7e">ProcessNames</a> [<a class="el" href="HelixSvc_8cpp.html#a8b3478c1785d786800c716949d4a5a1a">MAX_NUM_OF_PROCESS</a>]</td></tr>
<tr class="separator:a7079c9cd10069ad442c9d489d2d4fb7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c8ac3ae07ccc18462d1ef80ecbe31ac"><td class="memItemLeft" align="right" valign="top">SERVICE_STATUS_HANDLE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a3c8ac3ae07ccc18462d1ef80ecbe31ac">hServiceStatusHandle</a></td></tr>
<tr class="separator:a3c8ac3ae07ccc18462d1ef80ecbe31ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abeb06a382aa3ac6f3a78d0bcb541f387"><td class="memItemLeft" align="right" valign="top">SERVICE_STATUS&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#abeb06a382aa3ac6f3a78d0bcb541f387">ServiceStatus</a></td></tr>
<tr class="separator:abeb06a382aa3ac6f3a78d0bcb541f387"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ad8ecd96dac4598dbfce056c5526c03"><td class="memItemLeft" align="right" valign="top">PROCESS_INFORMATION&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="HelixSvc_8cpp.html#a6ad8ecd96dac4598dbfce056c5526c03">pProcInfo</a> [<a class="el" href="HelixSvc_8cpp.html#a8b3478c1785d786800c716949d4a5a1a">MAX_NUM_OF_PROCESS</a>]</td></tr>
<tr class="separator:a6ad8ecd96dac4598dbfce056c5526c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a8b3478c1785d786800c716949d4a5a1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_NUM_OF_PROCESS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a353674c5af92be7fb389265cde4e5e03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int _tmain </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_TCHAR *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ad7b4e5c30ec01e6a1e00027a21bf419e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID AttachProcessNames </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1a1f7e23222757a2e57b75ec7f8426bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID CopyFromStaging </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Our job is to move everything that we find in the staging directory up to our current working directory. This allows for a smooth upgrade scenario where new files are downloaded and placed into staging by the active server. The server then shuts itself down, relying on us to move everything from staging into the main working directory and then re-activating the server with the new components. </p>

</div>
</div>
<a class="anchor" id="a2021752def36ccd607dc422ecc225cd9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID EndProcess </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ProcessIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a187985a2a75796077d024c73129e5f8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID ExecuteSubProcess </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a968413582e8800da8602db67491e1d42"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID Install </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pName</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab60997e38356ec1281eb863f429f6b8e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL KillService </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a65e4882d9f9667b4cd6d3c98884fa6dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID ProcMonitorThread </td>
          <td>(</td>
          <td class="paramtype">VOID *&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a4d40ccd83db61ed8213b577e63eb56b4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL RunService </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aebadc5a3b3b27297d8b41accb2850441"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID WINAPI ServiceHandler </td>
          <td>(</td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>fdwControl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6245b96f87d82bbe7e5f121f3de41e68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID WINAPI ServiceMain </td>
          <td>(</td>
          <td class="paramtype">DWORD&#160;</td>
          <td class="paramname"><em>dwArgc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">LPTSTR *&#160;</td>
          <td class="paramname"><em>lpszArgv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a62b49391976b58e0d1d90cd2e2e275f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID ServiceMainProc </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Window Service </p>

</div>
</div>
<a class="anchor" id="abd89012efaa4fdc0469d9bea4b43a1a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL StartProcess </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ProcessIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0befd5d0aa35454699a6cf28841653e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID UnInstall </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pName</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a12daca9a08ae0e071e866a0c8d92e7b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VOID WriteLog </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pFile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pMsg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a3c8ac3ae07ccc18462d1ef80ecbe31ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SERVICE_STATUS_HANDLE hServiceStatusHandle</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aeeac776b0b97aea65a69aa56c4b226ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CHAR lpCmdLineData[<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a11f6ffd03bbc85d99d567f51e2c1396e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SERVICE_TABLE_ENTRY lpServiceStartTable[]</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= </div>
<div class="line">{</div>
<div class="line">    {<a class="code" href="HelixSvc_8cpp.html#ac6f72231af87a50ea292e162f67b25e8">pServiceName</a>, <a class="code" href="HelixSvc_8cpp.html#a6245b96f87d82bbe7e5f121f3de41e68">ServiceMain</a>},</div>
<div class="line">    {NULL, NULL}</div>
<div class="line">}</div>
<div class="ttc" id="HelixSvc_8cpp_html_a6245b96f87d82bbe7e5f121f3de41e68"><div class="ttname"><a href="HelixSvc_8cpp.html#a6245b96f87d82bbe7e5f121f3de41e68">ServiceMain</a></div><div class="ttdeci">VOID WINAPI ServiceMain(DWORD dwArgc, LPTSTR *lpszArgv)</div><div class="ttdef"><b>Definition:</b> HelixSvc.cpp:323</div></div>
<div class="ttc" id="HelixSvc_8cpp_html_ac6f72231af87a50ea292e162f67b25e8"><div class="ttname"><a href="HelixSvc_8cpp.html#ac6f72231af87a50ea292e162f67b25e8">pServiceName</a></div><div class="ttdeci">CHAR pServiceName[nBufferSize+1]</div><div class="ttdef"><b>Definition:</b> HelixSvc.cpp:47</div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afb914596b924968170b6dbf10a2947d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CRITICAL_SECTION myCS</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1afa74dad1e9e5b5b764ac90ae54cecc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const int nBufferSize = 500</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Window Service </p>

</div>
</div>
<a class="anchor" id="a073161ff44b71aec5c4711d52402229f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CHAR pExeFile[<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a5d00f6bd48e2503a4e18a5ffd2f56802"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CHAR pLogFile[<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6ad8ecd96dac4598dbfce056c5526c03"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PROCESS_INFORMATION pProcInfo[<a class="el" href="HelixSvc_8cpp.html#a8b3478c1785d786800c716949d4a5a1a">MAX_NUM_OF_PROCESS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a7079c9cd10069ad442c9d489d2d4fb7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">LPTSTR ProcessNames[<a class="el" href="HelixSvc_8cpp.html#a8b3478c1785d786800c716949d4a5a1a">MAX_NUM_OF_PROCESS</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a8d1a6cc69903953f56bfcb51f4a90485"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">BOOL ProcessStarted = TRUE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ac6f72231af87a50ea292e162f67b25e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CHAR pServiceName[<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a23a5928fa753117b120c5f8f242f8a5f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CHAR pWorkDir[<a class="el" href="HelixSvc_8cpp.html#a1afa74dad1e9e5b5b764ac90ae54cecc">nBufferSize</a>+1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abeb06a382aa3ac6f3a78d0bcb541f387"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SERVICE_STATUS ServiceStatus</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_41e1742e44e2de38b3bc91f993fed282.html">server</a></li><li class="navelem"><a class="el" href="HelixSvc_8cpp.html">HelixSvc.cpp</a></li>
    <li class="footer">Generated on Wed Jan 14 2015 12:23:31 for Helix by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
